{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../services/event.service\";\nimport * as i2 from \"../../../services/ticket.service\";\nimport * as i3 from \"../../../services/auth.service\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/common\";\nfunction DashboardComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8)(1, \"div\", 9)(2, \"span\", 10);\n    i0.ɵɵtext(3, \"Loading...\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"p\", 11);\n    i0.ɵɵtext(5, \"Adatok bet\\u00F6lt\\u00E9se...\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction DashboardComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 12);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.error, \" \");\n  }\n}\nfunction DashboardComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 13)(1, \"div\", 14)(2, \"div\", 15)(3, \"div\", 16)(4, \"div\", 17)(5, \"div\", 18);\n    i0.ɵɵelement(6, \"i\", 19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 20)(8, \"h3\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"div\");\n    i0.ɵɵtext(11, \"Esem\\u00E9ny\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(12, \"div\", 21)(13, \"a\", 22);\n    i0.ɵɵlistener(\"click\", function DashboardComponent_div_8_Template_a_click_13_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.navigateToEvents());\n    });\n    i0.ɵɵtext(14, \"R\\u00E9szletek megtekint\\u00E9se\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(15, \"i\", 23);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(16, \"div\", 14)(17, \"div\", 24)(18, \"div\", 16)(19, \"div\", 17)(20, \"div\", 18);\n    i0.ɵɵelement(21, \"i\", 25);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"div\", 20)(23, \"h3\");\n    i0.ɵɵtext(24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"div\");\n    i0.ɵɵtext(26, \"\\u00D6sszes jegy\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(27, \"div\", 21)(28, \"a\", 26);\n    i0.ɵɵtext(29, \"R\\u00E9szletes adatok\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(30, \"i\", 23);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(31, \"div\", 14)(32, \"div\", 27)(33, \"div\", 16)(34, \"div\", 17)(35, \"div\", 18);\n    i0.ɵɵelement(36, \"i\", 28);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(37, \"div\", 20)(38, \"h3\");\n    i0.ɵɵtext(39);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(40, \"div\");\n    i0.ɵɵtext(41, \"\\u00D6sszes bev\\u00E9tel\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(42, \"div\", 21)(43, \"a\", 26);\n    i0.ɵɵtext(44, \"P\\u00E9nz\\u00FCgyi jelent\\u00E9s\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(45, \"i\", 23);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(46, \"div\", 14)(47, \"div\", 29)(48, \"div\", 16)(49, \"div\", 17)(50, \"div\", 18);\n    i0.ɵɵelement(51, \"i\", 30);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(52, \"div\", 20)(53, \"h3\");\n    i0.ɵɵtext(54);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(55, \"div\");\n    i0.ɵɵtext(56, \"Akt\\u00EDv / Lemondott jegyek\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(57, \"div\", 21)(58, \"a\", 26);\n    i0.ɵɵtext(59, \"Jegy st\\u00E1tuszok\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(60, \"i\", 23);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(9);\n    i0.ɵɵtextInterpolate(ctx_r2.totalEvents);\n    i0.ɵɵadvance(15);\n    i0.ɵɵtextInterpolate(ctx_r2.totalTickets);\n    i0.ɵɵadvance(15);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r2.totalSales, \" Ft\");\n    i0.ɵɵadvance(15);\n    i0.ɵɵtextInterpolate2(\"\", ctx_r2.totalActiveTickets, \" / \", ctx_r2.totalCancelledTickets, \"\");\n  }\n}\nfunction DashboardComponent_div_9_tr_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const month_r10 = ctx.$implicit;\n    const i_r11 = ctx.index;\n    const ctx_r7 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(month_r10);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r7.getEventCountByMonth(i_r11));\n  }\n}\nfunction DashboardComponent_div_9_tr_38_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\")(8, \"button\", 45);\n    i0.ɵɵlistener(\"click\", function DashboardComponent_div_9_tr_38_Template_button_click_8_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r14);\n      const event_r12 = restoredCtx.$implicit;\n      const ctx_r13 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r13.editEvent(event_r12._id));\n    });\n    i0.ɵɵelement(9, \"i\", 46);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"button\", 47);\n    i0.ɵɵlistener(\"click\", function DashboardComponent_div_9_tr_38_Template_button_click_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r14);\n      const event_r12 = restoredCtx.$implicit;\n      const ctx_r15 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r15.viewEvent(event_r12._id));\n    });\n    i0.ɵɵelement(11, \"i\", 48);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const event_r12 = ctx.$implicit;\n    const ctx_r8 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(event_r12.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r8.formatDate(event_r12.date));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(event_r12.availableTickets || 0);\n  }\n}\nfunction DashboardComponent_div_9_tr_39_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 49);\n    i0.ɵɵtext(2, \"Nincs megjelen\\u00EDthet\\u0151 esem\\u00E9ny\");\n    i0.ɵɵelementEnd()();\n  }\n}\nconst _c0 = function () {\n  return [\"Janu\\u00E1r\", \"Febru\\u00E1r\", \"M\\u00E1rcius\", \"\\u00C1prilis\", \"M\\u00E1jus\", \"J\\u00FAnius\", \"J\\u00FAlius\", \"Augusztus\", \"Szeptember\", \"Okt\\u00F3ber\", \"November\", \"December\"];\n};\nfunction DashboardComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r17 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 13)(1, \"div\", 31)(2, \"div\", 32)(3, \"div\", 33)(4, \"h5\", 34);\n    i0.ɵɵelement(5, \"i\", 35);\n    i0.ɵɵtext(6, \"Esem\\u00E9nyek havi eloszl\\u00E1sa \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 16)(8, \"div\", 36)(9, \"table\", 37)(10, \"thead\")(11, \"tr\")(12, \"th\");\n    i0.ɵɵtext(13, \"H\\u00F3nap\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"th\");\n    i0.ɵɵtext(15, \"Esem\\u00E9nyek sz\\u00E1ma\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(16, \"tbody\");\n    i0.ɵɵtemplate(17, DashboardComponent_div_9_tr_17_Template, 5, 2, \"tr\", 38);\n    i0.ɵɵelementEnd()()()()()();\n    i0.ɵɵelementStart(18, \"div\", 31)(19, \"div\", 39)(20, \"div\", 33)(21, \"h5\", 34);\n    i0.ɵɵelement(22, \"i\", 40);\n    i0.ɵɵtext(23, \"Legk\\u00F6zelebbi esem\\u00E9nyek \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(24, \"div\", 16)(25, \"div\", 36)(26, \"table\", 41)(27, \"thead\")(28, \"tr\")(29, \"th\");\n    i0.ɵɵtext(30, \"Esem\\u00E9ny\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"th\");\n    i0.ɵɵtext(32, \"D\\u00E1tum\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(33, \"th\");\n    i0.ɵɵtext(34, \"El\\u00E9rhet\\u0151 jegyek\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(35, \"th\");\n    i0.ɵɵtext(36, \"M\\u0171veletek\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(37, \"tbody\");\n    i0.ɵɵtemplate(38, DashboardComponent_div_9_tr_38_Template, 12, 3, \"tr\", 38);\n    i0.ɵɵtemplate(39, DashboardComponent_div_9_tr_39_Template, 3, 0, \"tr\", 42);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(40, \"div\", 43)(41, \"button\", 44);\n    i0.ɵɵlistener(\"click\", function DashboardComponent_div_9_Template_button_click_41_listener() {\n      i0.ɵɵrestoreView(_r17);\n      const ctx_r16 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r16.navigateToEvents());\n    });\n    i0.ɵɵtext(42, \"\\u00D6sszes esem\\u00E9ny\");\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(17);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpureFunction0(3, _c0));\n    i0.ɵɵadvance(21);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.events.slice(0, 5));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.events.length === 0);\n  }\n}\nfunction DashboardComponent_div_10_tr_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const category_r20 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(category_r20.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(category_r20.count);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", category_r20.revenue, \" Ft\");\n  }\n}\nfunction DashboardComponent_div_10_tr_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 52);\n    i0.ɵɵtext(2, \"Nincs megjelen\\u00EDthet\\u0151 adat\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction DashboardComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13)(1, \"div\", 50)(2, \"div\", 32)(3, \"div\", 33)(4, \"h5\", 34);\n    i0.ɵɵelement(5, \"i\", 51);\n    i0.ɵɵtext(6, \"Jegyek kateg\\u00F3ri\\u00E1nk\\u00E9nt \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 16)(8, \"div\", 36)(9, \"table\", 37)(10, \"thead\")(11, \"tr\")(12, \"th\");\n    i0.ɵɵtext(13, \"Kateg\\u00F3ria\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"th\");\n    i0.ɵɵtext(15, \"Jegyek sz\\u00E1ma\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"th\");\n    i0.ɵɵtext(17, \"Bev\\u00E9tel (Ft)\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(18, \"tbody\");\n    i0.ɵɵtemplate(19, DashboardComponent_div_10_tr_19_Template, 7, 3, \"tr\", 38);\n    i0.ɵɵtemplate(20, DashboardComponent_div_10_tr_20_Template, 3, 0, \"tr\", 42);\n    i0.ɵɵelementEnd()()()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(19);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r4.getTicketCategories());\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.getTicketCategories().length === 0);\n  }\n}\nexport class DashboardComponent {\n  constructor(eventService, ticketService, authService, router) {\n    this.eventService = eventService;\n    this.ticketService = ticketService;\n    this.authService = authService;\n    this.router = router;\n    this.events = [];\n    this.tickets = [];\n    this.loading = true;\n    this.error = null;\n    // Statisztikai adatok\n    this.totalEvents = 0;\n    this.totalTickets = 0;\n    this.totalSales = 0;\n    this.totalActiveTickets = 0;\n    this.totalCancelledTickets = 0;\n    this.eventsByMonth = [];\n    this.ticketsByCategory = [];\n    // Hónapi események száma\n    this.monthlyEventCounts = [];\n    // Jegy kategóriák és statisztikák\n    this.ticketCategories = [];\n  }\n  ngOnInit() {\n    if (!this.authService.isAdmin()) {\n      this.router.navigate(['/events']);\n      return;\n    }\n    this.loadDashboardData();\n  }\n  loadDashboardData() {\n    this.loading = true;\n    // Események betöltése\n    this.eventService.getEvents().subscribe({\n      next: events => {\n        this.events = events;\n        this.totalEvents = events.length;\n        this.calculateEventsByMonth();\n        // Jegyek betöltése események után\n        this.loadTicketData();\n      },\n      error: err => {\n        this.error = 'Hiba történt az események betöltése közben.';\n        this.loading = false;\n        console.error('Error loading events:', err);\n      }\n    });\n  }\n  loadTicketData() {\n    this.ticketService.getAllTickets().subscribe({\n      next: tickets => {\n        if (!tickets || !Array.isArray(tickets)) {\n          this.error = 'Hiba történt a jegyek betöltése közben: Érvénytelen adatformátum';\n          this.loading = false;\n          return;\n        }\n        this.tickets = tickets;\n        this.totalTickets = tickets.length;\n        // A Ticket modellben a státusz típusai: 'pending' | 'confirmed' | 'cancelled'\n        this.totalActiveTickets = tickets.filter(t => t.status === 'confirmed' || t.status === 'pending').length;\n        this.totalCancelledTickets = tickets.filter(t => t.status === 'cancelled').length;\n        // Számítsuk ki az összbevételt\n        this.totalSales = tickets.filter(t => t.status !== 'cancelled').reduce((sum, ticket) => {\n          // Biztonságos ár konverzió - a price érték lehet undefined vagy number típus\n          const price = typeof ticket.price === 'number' ? ticket.price : 0;\n          return sum + price;\n        }, 0);\n        this.calculateTicketsByCategory();\n        this.loading = false;\n        this.error = null; // Töröljük a hibát, ha sikeres a betöltés\n      },\n\n      error: err => {\n        this.error = 'Hiba történt a jegyek betöltése közben.';\n        this.loading = false;\n        console.error('Error loading tickets:', err);\n      }\n    });\n  }\n  /**\n   * Események havi eloszlásának számítása\n   */\n  calculateEventsByMonth() {\n    this.monthlyEventCounts = Array(12).fill(0);\n    this.events.forEach(event => {\n      if (event.date) {\n        const month = new Date(event.date).getMonth();\n        this.monthlyEventCounts[month]++;\n      }\n    });\n  }\n  /**\n   * Jegyek kategoriánkénti eloszlásának számítása\n   */\n  calculateTicketsByCategory() {\n    // Jegyek és bevételek kategóriánként\n    const categoryData = new Map();\n    this.tickets.forEach(ticket => {\n      // Ha nincs kategória, \"Ismeretlen\" kategóriába soroljuk\n      const category = ticket.category || 'Ismeretlen';\n      if (ticket.status !== 'cancelled') {\n        const categoryInfo = categoryData.get(category) || {\n          count: 0,\n          revenue: 0\n        };\n        categoryInfo.count += 1;\n        // Biztonságos ár konverzió\n        let ticketPrice = 0;\n        if (ticket.price !== undefined && ticket.price !== null) {\n          ticketPrice = typeof ticket.price === 'number' ? ticket.price : parseFloat(ticket.price.toString()) || 0;\n        }\n        categoryInfo.revenue += ticketPrice;\n        categoryData.set(category, categoryInfo);\n      }\n    });\n    this.ticketCategories = Array.from(categoryData.entries()).map(([name, data]) => ({\n      name,\n      count: data.count,\n      revenue: data.revenue\n    }))\n    // Rendezzük csökkenő sorrend szerint a jegyek száma alapján\n    .sort((a, b) => b.count - a.count);\n  }\n  /**\n   * Adott hónapban lévő események száma\n   */\n  getEventCountByMonth(monthIndex) {\n    return this.monthlyEventCounts[monthIndex] || 0;\n  }\n  /**\n   * Jegy kategóriák listájának lekérése\n   */\n  getTicketCategories() {\n    return this.ticketCategories;\n  }\n  /**\n   * Dátum formázása\n   */\n  formatDate(dateString) {\n    if (!dateString) return '';\n    const date = new Date(dateString);\n    return date.toLocaleString('hu-HU', {\n      year: 'numeric',\n      month: '2-digit',\n      day: '2-digit',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  }\n  /**\n   * Navigáció az események oldalra\n   */\n  navigateToEvents() {\n    this.router.navigate(['/events']);\n  }\n  /**\n   * Esemény szerkesztése\n   */\n  editEvent(eventId) {\n    this.router.navigate(['/events', eventId, 'edit']);\n  }\n  /**\n   * Esemény megtekintése\n   */\n  viewEvent(eventId) {\n    this.router.navigate(['/events', eventId]);\n  }\n  static {\n    this.ɵfac = function DashboardComponent_Factory(t) {\n      return new (t || DashboardComponent)(i0.ɵɵdirectiveInject(i1.EventService), i0.ɵɵdirectiveInject(i2.TicketService), i0.ɵɵdirectiveInject(i3.AuthService), i0.ɵɵdirectiveInject(i4.Router));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: DashboardComponent,\n      selectors: [[\"app-dashboard\"]],\n      decls: 11,\n      vars: 5,\n      consts: [[1, \"container-fluid\", \"mt-4\"], [1, \"row\"], [1, \"col-12\"], [1, \"dashboard-title\"], [1, \"fas\", \"fa-chart-line\", \"me-2\"], [\"class\", \"text-center p-5\", 4, \"ngIf\"], [\"class\", \"alert alert-danger\", 4, \"ngIf\"], [\"class\", \"row mt-4\", 4, \"ngIf\"], [1, \"text-center\", \"p-5\"], [\"role\", \"status\", 1, \"spinner-border\", \"text-primary\"], [1, \"visually-hidden\"], [1, \"mt-3\"], [1, \"alert\", \"alert-danger\"], [1, \"row\", \"mt-4\"], [1, \"col-xl-3\", \"col-md-6\", \"mb-4\"], [1, \"card\", \"stat-card\", \"bg-primary\", \"text-white\", \"h-100\"], [1, \"card-body\"], [1, \"row\", \"align-items-center\"], [1, \"col-3\"], [1, \"fas\", \"fa-calendar\", \"fa-3x\"], [1, \"col-9\", \"text-end\"], [1, \"card-footer\", \"d-flex\", \"align-items-center\", \"justify-content-between\"], [1, \"text-white\", 3, \"click\"], [1, \"fas\", \"fa-angle-right\"], [1, \"card\", \"stat-card\", \"bg-success\", \"text-white\", \"h-100\"], [1, \"fas\", \"fa-ticket-alt\", \"fa-3x\"], [1, \"text-white\"], [1, \"card\", \"stat-card\", \"bg-info\", \"text-white\", \"h-100\"], [1, \"fas\", \"fa-money-bill-wave\", \"fa-3x\"], [1, \"card\", \"stat-card\", \"bg-warning\", \"text-white\", \"h-100\"], [1, \"fas\", \"fa-exchange-alt\", \"fa-3x\"], [1, \"col-xl-6\", \"mb-4\"], [1, \"card\", \"chart-card\", \"h-100\"], [1, \"card-header\"], [1, \"card-title\"], [1, \"fas\", \"fa-chart-bar\", \"me-2\"], [1, \"table-responsive\"], [1, \"table\", \"table-striped\"], [4, \"ngFor\", \"ngForOf\"], [1, \"card\", \"h-100\"], [1, \"fas\", \"fa-list\", \"me-2\"], [1, \"table\", \"table-hover\"], [4, \"ngIf\"], [1, \"card-footer\", \"d-flex\", \"justify-content-end\"], [1, \"btn\", \"btn-primary\", 3, \"click\"], [1, \"btn\", \"btn-sm\", \"btn-warning\", \"me-1\", 3, \"click\"], [1, \"fas\", \"fa-edit\"], [1, \"btn\", \"btn-sm\", \"btn-info\", 3, \"click\"], [1, \"fas\", \"fa-eye\"], [\"colspan\", \"4\", 1, \"text-center\"], [1, \"col-12\", \"mb-4\"], [1, \"fas\", \"fa-chart-pie\", \"me-2\"], [\"colspan\", \"3\", 1, \"text-center\"]],\n      template: function DashboardComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"h2\", 3);\n          i0.ɵɵelement(4, \"i\", 4);\n          i0.ɵɵtext(5, \"Admin Vez\\u00E9rl\\u0151pult \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(6, DashboardComponent_div_6_Template, 6, 0, \"div\", 5);\n          i0.ɵɵtemplate(7, DashboardComponent_div_7_Template, 2, 1, \"div\", 6);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(8, DashboardComponent_div_8_Template, 61, 5, \"div\", 7);\n          i0.ɵɵtemplate(9, DashboardComponent_div_9_Template, 43, 4, \"div\", 7);\n          i0.ɵɵtemplate(10, DashboardComponent_div_10_Template, 21, 2, \"div\", 7);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"ngIf\", ctx.loading);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.error);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.loading);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.loading);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.loading);\n        }\n      },\n      dependencies: [i5.NgForOf, i5.NgIf],\n      styles: [\".dashboard-title[_ngcontent-%COMP%] {\\n  color: #2c3e50;\\n  margin-bottom: 1.5rem;\\n  font-weight: 700;\\n  border-bottom: 2px solid #3498db;\\n  padding-bottom: 0.5rem;\\n}\\n\\n.stat-card[_ngcontent-%COMP%] {\\n  border: none;\\n  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);\\n  transition: all 0.3s ease;\\n}\\n\\n.stat-card[_ngcontent-%COMP%]:hover {\\n  transform: translateY(-5px);\\n  box-shadow: 0 8px 15px rgba(0, 0, 0, 0.2);\\n}\\n\\n.stat-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%] {\\n  padding: 1.25rem;\\n}\\n\\n.stat-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] {\\n  font-size: 2rem;\\n  font-weight: 700;\\n  margin-bottom: 0;\\n}\\n\\n.stat-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%] {\\n  background: rgba(0, 0, 0, 0.1);\\n  border-top: none;\\n  padding: 0.75rem 1.25rem;\\n}\\n\\n.stat-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\\n  text-decoration: none;\\n  font-weight: 500;\\n}\\n\\n.chart-card[_ngcontent-%COMP%] {\\n  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);\\n  border: none;\\n  border-radius: 10px;\\n}\\n\\n.chart-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%] {\\n  background-color: #fff;\\n  border-bottom: 1px solid rgba(0, 0, 0, 0.05);\\n  padding: 1rem 1.25rem;\\n}\\n\\n.chart-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%] {\\n  margin-bottom: 0;\\n  color: #2c3e50;\\n  font-weight: 600;\\n}\\n\\n.chart-container[_ngcontent-%COMP%] {\\n  position: relative;\\n  width: 100%;\\n}\\n\\n.table[_ngcontent-%COMP%] {\\n  margin-bottom: 0;\\n}\\n\\n.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\\n  border-top: none;\\n  font-weight: 600;\\n  color: #2c3e50;\\n}\\n\\n.btn-sm[_ngcontent-%COMP%] {\\n  padding: 0.25rem 0.5rem;\\n  font-size: 0.75rem;\\n}\\n\\n@media (max-width: 768px) {\\n  .stat-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] {\\n    font-size: 1.5rem;\\n  }\\n}\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9hZG1pbi9kYXNoYm9hcmQvZGFzaGJvYXJkLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxjQUFjO0VBQ2QscUJBQXFCO0VBQ3JCLGdCQUFnQjtFQUNoQixnQ0FBZ0M7RUFDaEMsc0JBQXNCO0FBQ3hCOztBQUVBO0VBQ0UsWUFBWTtFQUNaLHlDQUF5QztFQUN6Qyx5QkFBeUI7QUFDM0I7O0FBRUE7RUFDRSwyQkFBMkI7RUFDM0IseUNBQXlDO0FBQzNDOztBQUVBO0VBQ0UsZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0UsZUFBZTtFQUNmLGdCQUFnQjtFQUNoQixnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSw4QkFBOEI7RUFDOUIsZ0JBQWdCO0VBQ2hCLHdCQUF3QjtBQUMxQjs7QUFFQTtFQUNFLHFCQUFxQjtFQUNyQixnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSwwQ0FBMEM7RUFDMUMsWUFBWTtFQUNaLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLHNCQUFzQjtFQUN0Qiw0Q0FBNEM7RUFDNUMscUJBQXFCO0FBQ3ZCOztBQUVBO0VBQ0UsZ0JBQWdCO0VBQ2hCLGNBQWM7RUFDZCxnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSxrQkFBa0I7RUFDbEIsV0FBVztBQUNiOztBQUVBO0VBQ0UsZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0UsZ0JBQWdCO0VBQ2hCLGdCQUFnQjtFQUNoQixjQUFjO0FBQ2hCOztBQUVBO0VBQ0UsdUJBQXVCO0VBQ3ZCLGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFO0lBQ0UsaUJBQWlCO0VBQ25CO0FBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyIuZGFzaGJvYXJkLXRpdGxlIHtcbiAgY29sb3I6ICMyYzNlNTA7XG4gIG1hcmdpbi1ib3R0b206IDEuNXJlbTtcbiAgZm9udC13ZWlnaHQ6IDcwMDtcbiAgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkICMzNDk4ZGI7XG4gIHBhZGRpbmctYm90dG9tOiAwLjVyZW07XG59XG5cbi5zdGF0LWNhcmQge1xuICBib3JkZXI6IG5vbmU7XG4gIGJveC1zaGFkb3c6IDAgNHB4IDEwcHggcmdiYSgwLCAwLCAwLCAwLjEpO1xuICB0cmFuc2l0aW9uOiBhbGwgMC4zcyBlYXNlO1xufVxuXG4uc3RhdC1jYXJkOmhvdmVyIHtcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01cHgpO1xuICBib3gtc2hhZG93OiAwIDhweCAxNXB4IHJnYmEoMCwgMCwgMCwgMC4yKTtcbn1cblxuLnN0YXQtY2FyZCAuY2FyZC1ib2R5IHtcbiAgcGFkZGluZzogMS4yNXJlbTtcbn1cblxuLnN0YXQtY2FyZCBoMyB7XG4gIGZvbnQtc2l6ZTogMnJlbTtcbiAgZm9udC13ZWlnaHQ6IDcwMDtcbiAgbWFyZ2luLWJvdHRvbTogMDtcbn1cblxuLnN0YXQtY2FyZCAuY2FyZC1mb290ZXIge1xuICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIDAuMSk7XG4gIGJvcmRlci10b3A6IG5vbmU7XG4gIHBhZGRpbmc6IDAuNzVyZW0gMS4yNXJlbTtcbn1cblxuLnN0YXQtY2FyZCAuY2FyZC1mb290ZXIgYSB7XG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbiAgZm9udC13ZWlnaHQ6IDUwMDtcbn1cblxuLmNoYXJ0LWNhcmQge1xuICBib3gtc2hhZG93OiAwIDRweCAxMHB4IHJnYmEoMCwgMCwgMCwgMC4wNSk7XG4gIGJvcmRlcjogbm9uZTtcbiAgYm9yZGVyLXJhZGl1czogMTBweDtcbn1cblxuLmNoYXJ0LWNhcmQgLmNhcmQtaGVhZGVyIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHJnYmEoMCwgMCwgMCwgMC4wNSk7XG4gIHBhZGRpbmc6IDFyZW0gMS4yNXJlbTtcbn1cblxuLmNoYXJ0LWNhcmQgLmNhcmQtdGl0bGUge1xuICBtYXJnaW4tYm90dG9tOiAwO1xuICBjb2xvcjogIzJjM2U1MDtcbiAgZm9udC13ZWlnaHQ6IDYwMDtcbn1cblxuLmNoYXJ0LWNvbnRhaW5lciB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgd2lkdGg6IDEwMCU7XG59XG5cbi50YWJsZSB7XG4gIG1hcmdpbi1ib3R0b206IDA7XG59XG5cbi50YWJsZSB0aCB7XG4gIGJvcmRlci10b3A6IG5vbmU7XG4gIGZvbnQtd2VpZ2h0OiA2MDA7XG4gIGNvbG9yOiAjMmMzZTUwO1xufVxuXG4uYnRuLXNtIHtcbiAgcGFkZGluZzogMC4yNXJlbSAwLjVyZW07XG4gIGZvbnQtc2l6ZTogMC43NXJlbTtcbn1cblxuQG1lZGlhIChtYXgtd2lkdGg6IDc2OHB4KSB7XG4gIC5zdGF0LWNhcmQgaDMge1xuICAgIGZvbnQtc2l6ZTogMS41cmVtO1xuICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n    });\n  }\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate1","ctx_r1","error","ɵɵelement","ɵɵlistener","DashboardComponent_div_8_Template_a_click_13_listener","ɵɵrestoreView","_r6","ctx_r5","ɵɵnextContext","ɵɵresetView","navigateToEvents","ɵɵtextInterpolate","ctx_r2","totalEvents","totalTickets","totalSales","ɵɵtextInterpolate2","totalActiveTickets","totalCancelledTickets","month_r10","ctx_r7","getEventCountByMonth","i_r11","DashboardComponent_div_9_tr_38_Template_button_click_8_listener","restoredCtx","_r14","event_r12","$implicit","ctx_r13","editEvent","_id","DashboardComponent_div_9_tr_38_Template_button_click_10_listener","ctx_r15","viewEvent","title","ctx_r8","formatDate","date","availableTickets","ɵɵtemplate","DashboardComponent_div_9_tr_17_Template","DashboardComponent_div_9_tr_38_Template","DashboardComponent_div_9_tr_39_Template","DashboardComponent_div_9_Template_button_click_41_listener","_r17","ctx_r16","ɵɵproperty","ɵɵpureFunction0","_c0","ctx_r3","events","slice","length","category_r20","name","count","revenue","DashboardComponent_div_10_tr_19_Template","DashboardComponent_div_10_tr_20_Template","ctx_r4","getTicketCategories","DashboardComponent","constructor","eventService","ticketService","authService","router","tickets","loading","eventsByMonth","ticketsByCategory","monthlyEventCounts","ticketCategories","ngOnInit","isAdmin","navigate","loadDashboardData","getEvents","subscribe","next","calculateEventsByMonth","loadTicketData","err","console","getAllTickets","Array","isArray","filter","t","status","reduce","sum","ticket","price","calculateTicketsByCategory","fill","forEach","event","month","Date","getMonth","categoryData","Map","category","categoryInfo","get","ticketPrice","undefined","parseFloat","toString","set","from","entries","map","data","sort","a","b","monthIndex","dateString","toLocaleString","year","day","hour","minute","eventId","ɵɵdirectiveInject","i1","EventService","i2","TicketService","i3","AuthService","i4","Router","selectors","decls","vars","consts","template","DashboardComponent_Template","rf","ctx","DashboardComponent_div_6_Template","DashboardComponent_div_7_Template","DashboardComponent_div_8_Template","DashboardComponent_div_9_Template","DashboardComponent_div_10_Template"],"sources":["D:\\SZTE_PROGINFO\\programrendszerek_fejlesztese\\TicketPortal\\frontend\\src\\app\\components\\admin\\dashboard\\dashboard.component.ts","D:\\SZTE_PROGINFO\\programrendszerek_fejlesztese\\TicketPortal\\frontend\\src\\app\\components\\admin\\dashboard\\dashboard.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { EventService } from '../../../services/event.service';\nimport { TicketService } from '../../../services/ticket.service';\nimport { AuthService } from '../../../services/auth.service';\nimport { Router } from '@angular/router';\nimport { Event } from '../../../models/event.model';\nimport { Ticket } from '../../../models/ticket.model';\n\n@Component({\n  selector: 'app-dashboard',\n  templateUrl: './dashboard.component.html',\n  styleUrls: ['./dashboard.component.css']\n})\nexport class DashboardComponent implements OnInit {\n  events: Event[] = [];\n  tickets: Ticket[] = [];\n  loading = true;\n  error: string | null = null;\n  \n  // Statisztikai adatok\n  totalEvents = 0;\n  totalTickets = 0;\n  totalSales = 0;\n  totalActiveTickets = 0;\n  totalCancelledTickets = 0;\n  eventsByMonth: any[] = [];\n  ticketsByCategory: any[] = [];\n  \n  // Hónapi események száma\n  monthlyEventCounts: number[] = [];\n  \n  // Jegy kategóriák és statisztikák\n  ticketCategories: { name: string, count: number, revenue: number }[] = [];\n  \n  constructor(\n    private eventService: EventService,\n    private ticketService: TicketService,\n    private authService: AuthService,\n    private router: Router\n  ) {}\n\n  ngOnInit(): void {\n    if (!this.authService.isAdmin()) {\n      this.router.navigate(['/events']);\n      return;\n    }\n    \n    this.loadDashboardData();\n  }\n  \n  loadDashboardData(): void {\n    this.loading = true;\n    \n    // Események betöltése\n    this.eventService.getEvents().subscribe({\n      next: (events) => {\n        this.events = events;\n        this.totalEvents = events.length;\n        this.calculateEventsByMonth();\n        \n        // Jegyek betöltése események után\n        this.loadTicketData();\n      },\n      error: (err) => {\n        this.error = 'Hiba történt az események betöltése közben.';\n        this.loading = false;\n        console.error('Error loading events:', err);\n      }\n    });\n  }\n  \n  loadTicketData(): void {\n    this.ticketService.getAllTickets().subscribe({\n      next: (tickets: Ticket[]) => {\n        if (!tickets || !Array.isArray(tickets)) {\n          this.error = 'Hiba történt a jegyek betöltése közben: Érvénytelen adatformátum';\n          this.loading = false;\n          return;\n        }\n        \n        this.tickets = tickets;\n        this.totalTickets = tickets.length;\n        // A Ticket modellben a státusz típusai: 'pending' | 'confirmed' | 'cancelled'\n        this.totalActiveTickets = tickets.filter((t: Ticket) => t.status === 'confirmed' || t.status === 'pending').length;\n        this.totalCancelledTickets = tickets.filter((t: Ticket) => t.status === 'cancelled').length;\n        \n        // Számítsuk ki az összbevételt\n        this.totalSales = tickets\n          .filter((t: Ticket) => t.status !== 'cancelled')\n          .reduce((sum: number, ticket: Ticket) => {\n            // Biztonságos ár konverzió - a price érték lehet undefined vagy number típus\n            const price = typeof ticket.price === 'number' ? ticket.price : 0;\n            return sum + price;\n          }, 0);\n        \n        this.calculateTicketsByCategory();\n        \n        this.loading = false;\n        this.error = null; // Töröljük a hibát, ha sikeres a betöltés\n      },\n      error: (err: any) => {\n        this.error = 'Hiba történt a jegyek betöltése közben.';\n        this.loading = false;\n        console.error('Error loading tickets:', err);\n      }\n    });\n  }\n  \n  /**\n   * Események havi eloszlásának számítása\n   */\n  calculateEventsByMonth(): void {\n    this.monthlyEventCounts = Array(12).fill(0);\n    \n    this.events.forEach(event => {\n      if (event.date) {\n        const month = new Date(event.date).getMonth();\n        this.monthlyEventCounts[month]++;\n      }\n    });\n  }\n  \n  /**\n   * Jegyek kategoriánkénti eloszlásának számítása\n   */\n  calculateTicketsByCategory(): void {\n    // Jegyek és bevételek kategóriánként\n    const categoryData = new Map<string, { count: number, revenue: number }>();\n    \n    this.tickets.forEach((ticket: Ticket) => {\n      // Ha nincs kategória, \"Ismeretlen\" kategóriába soroljuk\n      const category = ticket.category || 'Ismeretlen';\n      \n      if (ticket.status !== 'cancelled') {\n        const categoryInfo = categoryData.get(category) || { count: 0, revenue: 0 };\n        categoryInfo.count += 1;\n        \n        // Biztonságos ár konverzió\n        let ticketPrice = 0;\n        if (ticket.price !== undefined && ticket.price !== null) {\n          ticketPrice = typeof ticket.price === 'number' ? ticket.price : parseFloat(ticket.price.toString()) || 0;\n        }\n        \n        categoryInfo.revenue += ticketPrice;\n        categoryData.set(category, categoryInfo);\n      }\n    });\n    \n    this.ticketCategories = Array.from(categoryData.entries())\n      .map(([name, data]) => ({\n        name,\n        count: data.count,\n        revenue: data.revenue\n      }))\n      // Rendezzük csökkenő sorrend szerint a jegyek száma alapján\n      .sort((a, b) => b.count - a.count);\n  }\n  \n  /**\n   * Adott hónapban lévő események száma\n   */\n  getEventCountByMonth(monthIndex: number): number {\n    return this.monthlyEventCounts[monthIndex] || 0;\n  }\n  \n  /**\n   * Jegy kategóriák listájának lekérése\n   */\n  getTicketCategories(): { name: string, count: number, revenue: number }[] {\n    return this.ticketCategories;\n  }\n  \n  /**\n   * Dátum formázása\n   */\n  formatDate(dateString: string): string {\n    if (!dateString) return '';\n    const date = new Date(dateString);\n    return date.toLocaleString('hu-HU', { year: 'numeric', month: '2-digit', day: '2-digit', hour: '2-digit', minute: '2-digit' });\n  }\n  \n  /**\n   * Navigáció az események oldalra\n   */\n  navigateToEvents(): void {\n    this.router.navigate(['/events']);\n  }\n  \n  /**\n   * Esemény szerkesztése\n   */\n  editEvent(eventId: string): void {\n    this.router.navigate(['/events', eventId, 'edit']);\n  }\n  \n  /**\n   * Esemény megtekintése\n   */\n  viewEvent(eventId: string): void {\n    this.router.navigate(['/events', eventId]);\n  }\n}\n","<div class=\"container-fluid mt-4\">\n  <div class=\"row\">\n    <div class=\"col-12\">\n      <h2 class=\"dashboard-title\">\n        <i class=\"fas fa-chart-line me-2\"></i>Admin Vezérlőpult\n      </h2>\n      \n      <!-- Töltési állapot -->\n      <div *ngIf=\"loading\" class=\"text-center p-5\">\n        <div class=\"spinner-border text-primary\" role=\"status\">\n          <span class=\"visually-hidden\">Loading...</span>\n        </div>\n        <p class=\"mt-3\">Adatok betöltése...</p>\n      </div>\n      \n      <!-- Hiba üzenet -->\n      <div *ngIf=\"error\" class=\"alert alert-danger\">\n        {{ error }}\n      </div>\n    </div>\n  </div>\n  \n  <!-- Statisztikai kártyák -->\n  <div *ngIf=\"!loading\" class=\"row mt-4\">\n    <div class=\"col-xl-3 col-md-6 mb-4\">\n      <div class=\"card stat-card bg-primary text-white h-100\">\n        <div class=\"card-body\">\n          <div class=\"row align-items-center\">\n            <div class=\"col-3\">\n              <i class=\"fas fa-calendar fa-3x\"></i>\n            </div>\n            <div class=\"col-9 text-end\">\n              <h3>{{ totalEvents }}</h3>\n              <div>Esemény</div>\n            </div>\n          </div>\n        </div>\n        <div class=\"card-footer d-flex align-items-center justify-content-between\">\n          <a class=\"text-white\" (click)=\"navigateToEvents()\">Részletek megtekintése</a>\n          <i class=\"fas fa-angle-right\"></i>\n        </div>\n      </div>\n    </div>\n    \n    <div class=\"col-xl-3 col-md-6 mb-4\">\n      <div class=\"card stat-card bg-success text-white h-100\">\n        <div class=\"card-body\">\n          <div class=\"row align-items-center\">\n            <div class=\"col-3\">\n              <i class=\"fas fa-ticket-alt fa-3x\"></i>\n            </div>\n            <div class=\"col-9 text-end\">\n              <h3>{{ totalTickets }}</h3>\n              <div>Összes jegy</div>\n            </div>\n          </div>\n        </div>\n        <div class=\"card-footer d-flex align-items-center justify-content-between\">\n          <a class=\"text-white\">Részletes adatok</a>\n          <i class=\"fas fa-angle-right\"></i>\n        </div>\n      </div>\n    </div>\n    \n    <div class=\"col-xl-3 col-md-6 mb-4\">\n      <div class=\"card stat-card bg-info text-white h-100\">\n        <div class=\"card-body\">\n          <div class=\"row align-items-center\">\n            <div class=\"col-3\">\n              <i class=\"fas fa-money-bill-wave fa-3x\"></i>\n            </div>\n            <div class=\"col-9 text-end\">\n              <h3>{{ totalSales }} Ft</h3>\n              <div>Összes bevétel</div>\n            </div>\n          </div>\n        </div>\n        <div class=\"card-footer d-flex align-items-center justify-content-between\">\n          <a class=\"text-white\">Pénzügyi jelentés</a>\n          <i class=\"fas fa-angle-right\"></i>\n        </div>\n      </div>\n    </div>\n    \n    <div class=\"col-xl-3 col-md-6 mb-4\">\n      <div class=\"card stat-card bg-warning text-white h-100\">\n        <div class=\"card-body\">\n          <div class=\"row align-items-center\">\n            <div class=\"col-3\">\n              <i class=\"fas fa-exchange-alt fa-3x\"></i>\n            </div>\n            <div class=\"col-9 text-end\">\n              <h3>{{ totalActiveTickets }} / {{ totalCancelledTickets }}</h3>\n              <div>Aktív / Lemondott jegyek</div>\n            </div>\n          </div>\n        </div>\n        <div class=\"card-footer d-flex align-items-center justify-content-between\">\n          <a class=\"text-white\">Jegy státuszok</a>\n          <i class=\"fas fa-angle-right\"></i>\n        </div>\n      </div>\n    </div>\n  </div>\n  \n  <!-- Statisztikai adatok egyszerűsített megjelenítése -->\n  <div *ngIf=\"!loading\" class=\"row mt-4\">\n    <div class=\"col-xl-6 mb-4\">\n      <div class=\"card chart-card h-100\">\n        <div class=\"card-header\">\n          <h5 class=\"card-title\">\n            <i class=\"fas fa-chart-bar me-2\"></i>Események havi eloszlása\n          </h5>\n        </div>\n        <div class=\"card-body\">\n          <div class=\"table-responsive\">\n            <table class=\"table table-striped\">\n              <thead>\n                <tr>\n                  <th>Hónap</th>\n                  <th>Események száma</th>\n                </tr>\n              </thead>\n              <tbody>\n                <tr *ngFor=\"let month of ['Január', 'Február', 'Március', 'Április', 'Május', 'Június', 'Július', 'Augusztus', 'Szeptember', 'Október', 'November', 'December']; let i = index\">\n                  <td>{{ month }}</td>\n                  <td>{{ getEventCountByMonth(i) }}</td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n        </div>\n      </div>\n    </div>\n    \n    <div class=\"col-xl-6 mb-4\">\n      <div class=\"card h-100\">\n        <div class=\"card-header\">\n          <h5 class=\"card-title\">\n            <i class=\"fas fa-list me-2\"></i>Legközelebbi események\n          </h5>\n        </div>\n        <div class=\"card-body\">\n          <div class=\"table-responsive\">\n            <table class=\"table table-hover\">\n              <thead>\n                <tr>\n                  <th>Esemény</th>\n                  <th>Dátum</th>\n                  <th>Elérhető jegyek</th>\n                  <th>Műveletek</th>\n                </tr>\n              </thead>\n              <tbody>\n                <tr *ngFor=\"let event of events.slice(0, 5)\">\n                  <td>{{ event.title }}</td>\n                  <td>{{ formatDate(event.date) }}</td>\n                  <td>{{ event.availableTickets || 0 }}</td>\n                  <td>\n                    <button class=\"btn btn-sm btn-warning me-1\" (click)=\"editEvent(event._id)\">\n                      <i class=\"fas fa-edit\"></i>\n                    </button>\n                    <button class=\"btn btn-sm btn-info\" (click)=\"viewEvent(event._id)\">\n                      <i class=\"fas fa-eye\"></i>\n                    </button>\n                  </td>\n                </tr>\n                <tr *ngIf=\"events.length === 0\">\n                  <td colspan=\"4\" class=\"text-center\">Nincs megjeleníthető esemény</td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n        </div>\n        <div class=\"card-footer d-flex justify-content-end\">\n          <button class=\"btn btn-primary\" (click)=\"navigateToEvents()\">Összes esemény</button>\n        </div>\n      </div>\n    </div>\n  </div>\n  \n  <!-- Jegyek kategóriánként -->\n  <div *ngIf=\"!loading\" class=\"row mt-4\">\n    <div class=\"col-12 mb-4\">\n      <div class=\"card chart-card h-100\">\n        <div class=\"card-header\">\n          <h5 class=\"card-title\">\n            <i class=\"fas fa-chart-pie me-2\"></i>Jegyek kategóriánként\n          </h5>\n        </div>\n        <div class=\"card-body\">\n          <div class=\"table-responsive\">\n            <table class=\"table table-striped\">\n              <thead>\n                <tr>\n                  <th>Kategória</th>\n                  <th>Jegyek száma</th>\n                  <th>Bevétel (Ft)</th>\n                </tr>\n              </thead>\n              <tbody>\n                <tr *ngFor=\"let category of getTicketCategories()\">\n                  <td>{{ category.name }}</td>\n                  <td>{{ category.count }}</td>\n                  <td>{{ category.revenue }} Ft</td>\n                </tr>\n                <tr *ngIf=\"getTicketCategories().length === 0\">\n                  <td colspan=\"3\" class=\"text-center\">Nincs megjeleníthető adat</td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}