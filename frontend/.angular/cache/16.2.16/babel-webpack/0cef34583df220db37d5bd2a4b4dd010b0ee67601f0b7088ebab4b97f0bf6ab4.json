{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../services/event.service\";\nimport * as i2 from \"../../../services/ticket.service\";\nimport * as i3 from \"../../../services/auth.service\";\nimport * as i4 from \"@angular/router\";\nfunction DashboardComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8)(1, \"div\", 9)(2, \"span\", 10);\n    i0.ɵɵtext(3, \"Loading...\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"p\", 11);\n    i0.ɵɵtext(5, \"Adatok bet\\u00F6lt\\u00E9se...\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction DashboardComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 12);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.error, \" \");\n  }\n}\nconst _c0 = function () {\n  return [\"/events\"];\n};\nfunction DashboardComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13)(1, \"div\", 14)(2, \"div\", 15)(3, \"div\", 16)(4, \"div\", 17)(5, \"div\", 18);\n    i0.ɵɵelement(6, \"i\", 19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 20)(8, \"h3\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"div\");\n    i0.ɵɵtext(11, \"Esem\\u00E9ny\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(12, \"div\", 21)(13, \"a\", 22);\n    i0.ɵɵtext(14, \"R\\u00E9szletek megtekint\\u00E9se\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(15, \"i\", 23);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(16, \"div\", 14)(17, \"div\", 24)(18, \"div\", 16)(19, \"div\", 17)(20, \"div\", 18);\n    i0.ɵɵelement(21, \"i\", 25);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"div\", 20)(23, \"h3\");\n    i0.ɵɵtext(24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"div\");\n    i0.ɵɵtext(26, \"\\u00D6sszes jegy\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(27, \"div\", 21)(28, \"a\", 26);\n    i0.ɵɵtext(29, \"R\\u00E9szletes adatok\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(30, \"i\", 23);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(31, \"div\", 14)(32, \"div\", 27)(33, \"div\", 16)(34, \"div\", 17)(35, \"div\", 18);\n    i0.ɵɵelement(36, \"i\", 28);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(37, \"div\", 20)(38, \"h3\");\n    i0.ɵɵtext(39);\n    i0.ɵɵpipe(40, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(41, \"div\");\n    i0.ɵɵtext(42, \"\\u00D6sszes bev\\u00E9tel\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(43, \"div\", 21)(44, \"a\", 26);\n    i0.ɵɵtext(45, \"P\\u00E9nz\\u00FCgyi jelent\\u00E9s\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(46, \"i\", 23);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(47, \"div\", 14)(48, \"div\", 29)(49, \"div\", 16)(50, \"div\", 17)(51, \"div\", 18);\n    i0.ɵɵelement(52, \"i\", 30);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(53, \"div\", 20)(54, \"h3\");\n    i0.ɵɵtext(55);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(56, \"div\");\n    i0.ɵɵtext(57, \"Akt\\u00EDv / Lemondott jegyek\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(58, \"div\", 21)(59, \"a\", 26);\n    i0.ɵɵtext(60, \"Jegy st\\u00E1tuszok\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(61, \"i\", 23);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(9);\n    i0.ɵɵtextInterpolate(ctx_r2.totalEvents);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(11, _c0));\n    i0.ɵɵadvance(11);\n    i0.ɵɵtextInterpolate(ctx_r2.totalTickets);\n    i0.ɵɵadvance(15);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind4(40, 6, ctx_r2.totalSales, \"HUF\", \"symbol\", \"1.0-0\"));\n    i0.ɵɵadvance(16);\n    i0.ɵɵtextInterpolate2(\"\", ctx_r2.totalActiveTickets, \" / \", ctx_r2.totalCancelledTickets, \"\");\n  }\n}\nfunction DashboardComponent_div_9_canvas_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"canvas\", 39);\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"data\", ctx_r5.eventChartData)(\"options\", ctx_r5.chartOptions)(\"type\", \"bar\");\n  }\n}\nfunction DashboardComponent_div_9_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 40)(1, \"p\");\n    i0.ɵɵtext(2, \"Nincs megjelen\\u00EDthet\\u0151 adat\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction DashboardComponent_div_9_canvas_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"canvas\", 39);\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"data\", ctx_r7.salesChartData)(\"options\", ctx_r7.chartOptions)(\"type\", \"line\");\n  }\n}\nfunction DashboardComponent_div_9_div_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 40)(1, \"p\");\n    i0.ɵɵtext(2, \"Nincs megjelen\\u00EDthet\\u0151 adat\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction DashboardComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13)(1, \"div\", 31)(2, \"div\", 32)(3, \"div\", 33)(4, \"h5\", 34);\n    i0.ɵɵelement(5, \"i\", 35);\n    i0.ɵɵtext(6, \"Esem\\u00E9nyek havi eloszl\\u00E1sa \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 16)(8, \"div\", 36);\n    i0.ɵɵtemplate(9, DashboardComponent_div_9_canvas_9_Template, 1, 3, \"canvas\", 37);\n    i0.ɵɵtemplate(10, DashboardComponent_div_9_div_10_Template, 3, 0, \"div\", 38);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(11, \"div\", 31)(12, \"div\", 32)(13, \"div\", 33)(14, \"h5\", 34);\n    i0.ɵɵelement(15, \"i\", 4);\n    i0.ɵɵtext(16, \"Havi bev\\u00E9telek \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(17, \"div\", 16)(18, \"div\", 36);\n    i0.ɵɵtemplate(19, DashboardComponent_div_9_canvas_19_Template, 1, 3, \"canvas\", 37);\n    i0.ɵɵtemplate(20, DashboardComponent_div_9_div_20_Template, 3, 0, \"div\", 38);\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(9);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.eventChartData);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r3.eventChartData);\n    i0.ɵɵadvance(9);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.salesChartData);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r3.salesChartData);\n  }\n}\nfunction DashboardComponent_div_10_canvas_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"canvas\", 39);\n  }\n  if (rf & 2) {\n    const ctx_r9 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"data\", ctx_r9.ticketChartData)(\"options\", ctx_r9.chartOptions)(\"type\", \"doughnut\");\n  }\n}\nfunction DashboardComponent_div_10_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 40)(1, \"p\");\n    i0.ɵɵtext(2, \"Nincs megjelen\\u00EDthet\\u0151 adat\");\n    i0.ɵɵelementEnd()();\n  }\n}\nconst _c1 = function (a1) {\n  return [\"/events\", a1, \"edit\"];\n};\nconst _c2 = function (a1) {\n  return [\"/events\", a1];\n};\nfunction DashboardComponent_div_10_tr_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\")(9, \"a\", 50);\n    i0.ɵɵelement(10, \"i\", 51);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"a\", 52);\n    i0.ɵɵelement(12, \"i\", 53);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const event_r13 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(event_r13.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(5, 5, event_r13.date, \"yyyy.MM.dd HH:mm\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(event_r13.availableTickets || 0);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(8, _c1, event_r13._id));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(10, _c2, event_r13._id));\n  }\n}\nfunction DashboardComponent_div_10_tr_32_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 54);\n    i0.ɵɵtext(2, \"Nincs megjelen\\u00EDthet\\u0151 esem\\u00E9ny\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction DashboardComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13)(1, \"div\", 31)(2, \"div\", 32)(3, \"div\", 33)(4, \"h5\", 34);\n    i0.ɵɵelement(5, \"i\", 41);\n    i0.ɵɵtext(6, \"Jegyek kateg\\u00F3ri\\u00E1nk\\u00E9nt \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 16)(8, \"div\", 36);\n    i0.ɵɵtemplate(9, DashboardComponent_div_10_canvas_9_Template, 1, 3, \"canvas\", 37);\n    i0.ɵɵtemplate(10, DashboardComponent_div_10_div_10_Template, 3, 0, \"div\", 38);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(11, \"div\", 31)(12, \"div\", 42)(13, \"div\", 33)(14, \"h5\", 34);\n    i0.ɵɵelement(15, \"i\", 43);\n    i0.ɵɵtext(16, \"Legk\\u00F6zelebbi esem\\u00E9nyek \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(17, \"div\", 16)(18, \"div\", 44)(19, \"table\", 45)(20, \"thead\")(21, \"tr\")(22, \"th\");\n    i0.ɵɵtext(23, \"Esem\\u00E9ny\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"th\");\n    i0.ɵɵtext(25, \"D\\u00E1tum\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"th\");\n    i0.ɵɵtext(27, \"El\\u00E9rhet\\u0151 jegyek\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"th\");\n    i0.ɵɵtext(29, \"M\\u0171veletek\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(30, \"tbody\");\n    i0.ɵɵtemplate(31, DashboardComponent_div_10_tr_31_Template, 13, 12, \"tr\", 46);\n    i0.ɵɵtemplate(32, DashboardComponent_div_10_tr_32_Template, 3, 0, \"tr\", 47);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(33, \"div\", 48)(34, \"a\", 49);\n    i0.ɵɵtext(35, \"\\u00D6sszes esem\\u00E9ny\");\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(9);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.ticketChartData);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r4.ticketChartData);\n    i0.ɵɵadvance(21);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r4.events.slice(0, 5));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.events.length === 0);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(5, _c0));\n  }\n}\nexport class DashboardComponent {\n  constructor(eventService, ticketService, authService, router) {\n    this.eventService = eventService;\n    this.ticketService = ticketService;\n    this.authService = authService;\n    this.router = router;\n    this.events = [];\n    this.tickets = [];\n    this.loading = true;\n    this.error = null;\n    // Statisztikai adatok\n    this.totalEvents = 0;\n    this.totalTickets = 0;\n    this.totalSales = 0;\n    this.totalActiveTickets = 0;\n    this.totalCancelledTickets = 0;\n    this.eventsByMonth = [];\n    this.ticketsByCategory = [];\n    this.chartOptions = {\n      responsive: true,\n      maintainAspectRatio: false\n    };\n  }\n  ngOnInit() {\n    if (!this.authService.isAdmin()) {\n      this.router.navigate(['/events']);\n      return;\n    }\n    this.loadDashboardData();\n  }\n  loadDashboardData() {\n    this.loading = true;\n    // Események betöltése\n    this.eventService.getEvents().subscribe({\n      next: events => {\n        this.events = events;\n        this.totalEvents = events.length;\n        this.generateEventChartData();\n        // Jegyek betöltése események után\n        this.loadTicketData();\n      },\n      error: err => {\n        this.error = 'Hiba történt az események betöltése közben.';\n        this.loading = false;\n        console.error('Error loading events:', err);\n      }\n    });\n  }\n  loadTicketData() {\n    this.ticketService.getAllTickets().subscribe({\n      next: tickets => {\n        this.tickets = tickets;\n        this.totalTickets = tickets.length;\n        this.totalActiveTickets = tickets.filter(t => t.status === 'confirmed').length;\n        this.totalCancelledTickets = tickets.filter(t => t.status === 'cancelled').length;\n        // Számítsuk ki az összbevételt\n        this.totalSales = tickets.filter(t => t.status !== 'cancelled').reduce((sum, ticket) => sum + (ticket.price || 0), 0);\n        this.generateTicketChartData();\n        this.generateSalesChartData();\n        this.loading = false;\n      },\n      error: err => {\n        this.error = 'Hiba történt a jegyek betöltése közben.';\n        this.loading = false;\n        console.error('Error loading tickets:', err);\n      }\n    });\n  }\n  generateEventChartData() {\n    // Események havi eloszlása\n    const monthlyData = Array(12).fill(0);\n    this.events.forEach(event => {\n      if (event.date) {\n        const month = new Date(event.date).getMonth();\n        monthlyData[month]++;\n      }\n    });\n    const months = ['Január', 'Február', 'Március', 'Április', 'Május', 'Június', 'Július', 'Augusztus', 'Szeptember', 'Október', 'November', 'December'];\n    this.eventChartData = {\n      labels: months,\n      datasets: [{\n        label: 'Események havi eloszlása',\n        data: monthlyData,\n        backgroundColor: 'rgba(54, 162, 235, 0.5)',\n        borderColor: 'rgb(54, 162, 235)',\n        borderWidth: 1\n      }]\n    };\n  }\n  generateTicketChartData() {\n    // Jegyek kategóriánként\n    const categoryMap = new Map();\n    this.tickets.forEach(ticket => {\n      if (ticket.category && ticket.status !== 'cancelled') {\n        const currentCount = categoryMap.get(ticket.category) || 0;\n        categoryMap.set(ticket.category, currentCount + 1);\n      }\n    });\n    const categories = Array.from(categoryMap.keys());\n    const categoryCounts = Array.from(categoryMap.values());\n    this.ticketChartData = {\n      labels: categories,\n      datasets: [{\n        label: 'Jegyek kategóriánként',\n        data: categoryCounts,\n        backgroundColor: ['rgba(255, 99, 132, 0.5)', 'rgba(54, 162, 235, 0.5)', 'rgba(255, 206, 86, 0.5)', 'rgba(75, 192, 192, 0.5)', 'rgba(153, 102, 255, 0.5)', 'rgba(255, 159, 64, 0.5)'],\n        borderColor: ['rgba(255, 99, 132, 1)', 'rgba(54, 162, 235, 1)', 'rgba(255, 206, 86, 1)', 'rgba(75, 192, 192, 1)', 'rgba(153, 102, 255, 1)', 'rgba(255, 159, 64, 1)'],\n        borderWidth: 1\n      }]\n    };\n  }\n  generateSalesChartData() {\n    // Havi bevételek\n    const monthlySales = Array(12).fill(0);\n    this.tickets.forEach(ticket => {\n      if (ticket.purchaseDate && ticket.status !== 'cancelled' && ticket.price) {\n        const month = new Date(ticket.purchaseDate).getMonth();\n        monthlySales[month] += ticket.price;\n      }\n    });\n    const months = ['Január', 'Február', 'Március', 'Április', 'Május', 'Június', 'Július', 'Augusztus', 'Szeptember', 'Október', 'November', 'December'];\n    this.salesChartData = {\n      labels: months,\n      datasets: [{\n        label: 'Havi bevételek (Ft)',\n        data: monthlySales,\n        backgroundColor: 'rgba(75, 192, 192, 0.5)',\n        borderColor: 'rgb(75, 192, 192)',\n        borderWidth: 1\n      }]\n    };\n  }\n  static {\n    this.ɵfac = function DashboardComponent_Factory(t) {\n      return new (t || DashboardComponent)(i0.ɵɵdirectiveInject(i1.EventService), i0.ɵɵdirectiveInject(i2.TicketService), i0.ɵɵdirectiveInject(i3.AuthService), i0.ɵɵdirectiveInject(i4.Router));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: DashboardComponent,\n      selectors: [[\"app-dashboard\"]],\n      decls: 11,\n      vars: 5,\n      consts: [[1, \"container-fluid\", \"mt-4\"], [1, \"row\"], [1, \"col-12\"], [1, \"dashboard-title\"], [1, \"fas\", \"fa-chart-line\", \"me-2\"], [\"class\", \"text-center p-5\", 4, \"ngIf\"], [\"class\", \"alert alert-danger\", 4, \"ngIf\"], [\"class\", \"row mt-4\", 4, \"ngIf\"], [1, \"text-center\", \"p-5\"], [\"role\", \"status\", 1, \"spinner-border\", \"text-primary\"], [1, \"visually-hidden\"], [1, \"mt-3\"], [1, \"alert\", \"alert-danger\"], [1, \"row\", \"mt-4\"], [1, \"col-xl-3\", \"col-md-6\", \"mb-4\"], [1, \"card\", \"stat-card\", \"bg-primary\", \"text-white\", \"h-100\"], [1, \"card-body\"], [1, \"row\", \"align-items-center\"], [1, \"col-3\"], [1, \"fas\", \"fa-calendar\", \"fa-3x\"], [1, \"col-9\", \"text-end\"], [1, \"card-footer\", \"d-flex\", \"align-items-center\", \"justify-content-between\"], [1, \"text-white\", 3, \"routerLink\"], [1, \"fas\", \"fa-angle-right\"], [1, \"card\", \"stat-card\", \"bg-success\", \"text-white\", \"h-100\"], [1, \"fas\", \"fa-ticket-alt\", \"fa-3x\"], [1, \"text-white\"], [1, \"card\", \"stat-card\", \"bg-info\", \"text-white\", \"h-100\"], [1, \"fas\", \"fa-money-bill-wave\", \"fa-3x\"], [1, \"card\", \"stat-card\", \"bg-warning\", \"text-white\", \"h-100\"], [1, \"fas\", \"fa-exchange-alt\", \"fa-3x\"], [1, \"col-xl-6\", \"mb-4\"], [1, \"card\", \"chart-card\", \"h-100\"], [1, \"card-header\"], [1, \"card-title\"], [1, \"fas\", \"fa-chart-bar\", \"me-2\"], [1, \"chart-container\", 2, \"height\", \"300px\"], [\"baseChart\", \"\", 3, \"data\", \"options\", \"type\", 4, \"ngIf\"], [\"class\", \"text-center py-5\", 4, \"ngIf\"], [\"baseChart\", \"\", 3, \"data\", \"options\", \"type\"], [1, \"text-center\", \"py-5\"], [1, \"fas\", \"fa-chart-pie\", \"me-2\"], [1, \"card\", \"h-100\"], [1, \"fas\", \"fa-list\", \"me-2\"], [1, \"table-responsive\"], [1, \"table\", \"table-hover\"], [4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [1, \"card-footer\", \"d-flex\", \"justify-content-end\"], [1, \"btn\", \"btn-primary\", 3, \"routerLink\"], [1, \"btn\", \"btn-sm\", \"btn-warning\", \"me-1\", 3, \"routerLink\"], [1, \"fas\", \"fa-edit\"], [1, \"btn\", \"btn-sm\", \"btn-info\", 3, \"routerLink\"], [1, \"fas\", \"fa-eye\"], [\"colspan\", \"4\", 1, \"text-center\"]],\n      template: function DashboardComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"h2\", 3);\n          i0.ɵɵelement(4, \"i\", 4);\n          i0.ɵɵtext(5, \"Admin Vez\\u00E9rl\\u0151pult \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(6, DashboardComponent_div_6_Template, 6, 0, \"div\", 5);\n          i0.ɵɵtemplate(7, DashboardComponent_div_7_Template, 2, 1, \"div\", 6);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(8, DashboardComponent_div_8_Template, 62, 12, \"div\", 7);\n          i0.ɵɵtemplate(9, DashboardComponent_div_9_Template, 21, 4, \"div\", 7);\n          i0.ɵɵtemplate(10, DashboardComponent_div_10_Template, 36, 6, \"div\", 7);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"ngIf\", ctx.loading);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.error);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.loading);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.loading);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.loading);\n        }\n      },\n      styles: [\".dashboard-title[_ngcontent-%COMP%] {\\n  color: #2c3e50;\\n  margin-bottom: 1.5rem;\\n  font-weight: 700;\\n  border-bottom: 2px solid #3498db;\\n  padding-bottom: 0.5rem;\\n}\\n\\n.stat-card[_ngcontent-%COMP%] {\\n  border: none;\\n  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);\\n  transition: all 0.3s ease;\\n}\\n\\n.stat-card[_ngcontent-%COMP%]:hover {\\n  transform: translateY(-5px);\\n  box-shadow: 0 8px 15px rgba(0, 0, 0, 0.2);\\n}\\n\\n.stat-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%] {\\n  padding: 1.25rem;\\n}\\n\\n.stat-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] {\\n  font-size: 2rem;\\n  font-weight: 700;\\n  margin-bottom: 0;\\n}\\n\\n.stat-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%] {\\n  background: rgba(0, 0, 0, 0.1);\\n  border-top: none;\\n  padding: 0.75rem 1.25rem;\\n}\\n\\n.stat-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\\n  text-decoration: none;\\n  font-weight: 500;\\n}\\n\\n.chart-card[_ngcontent-%COMP%] {\\n  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);\\n  border: none;\\n  border-radius: 10px;\\n}\\n\\n.chart-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%] {\\n  background-color: #fff;\\n  border-bottom: 1px solid rgba(0, 0, 0, 0.05);\\n  padding: 1rem 1.25rem;\\n}\\n\\n.chart-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%] {\\n  margin-bottom: 0;\\n  color: #2c3e50;\\n  font-weight: 600;\\n}\\n\\n.chart-container[_ngcontent-%COMP%] {\\n  position: relative;\\n  width: 100%;\\n}\\n\\n.table[_ngcontent-%COMP%] {\\n  margin-bottom: 0;\\n}\\n\\n.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\\n  border-top: none;\\n  font-weight: 600;\\n  color: #2c3e50;\\n}\\n\\n.btn-sm[_ngcontent-%COMP%] {\\n  padding: 0.25rem 0.5rem;\\n  font-size: 0.75rem;\\n}\\n\\n@media (max-width: 768px) {\\n  .stat-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] {\\n    font-size: 1.5rem;\\n  }\\n}\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9hZG1pbi9kYXNoYm9hcmQvZGFzaGJvYXJkLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxjQUFjO0VBQ2QscUJBQXFCO0VBQ3JCLGdCQUFnQjtFQUNoQixnQ0FBZ0M7RUFDaEMsc0JBQXNCO0FBQ3hCOztBQUVBO0VBQ0UsWUFBWTtFQUNaLHlDQUF5QztFQUN6Qyx5QkFBeUI7QUFDM0I7O0FBRUE7RUFDRSwyQkFBMkI7RUFDM0IseUNBQXlDO0FBQzNDOztBQUVBO0VBQ0UsZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0UsZUFBZTtFQUNmLGdCQUFnQjtFQUNoQixnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSw4QkFBOEI7RUFDOUIsZ0JBQWdCO0VBQ2hCLHdCQUF3QjtBQUMxQjs7QUFFQTtFQUNFLHFCQUFxQjtFQUNyQixnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSwwQ0FBMEM7RUFDMUMsWUFBWTtFQUNaLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLHNCQUFzQjtFQUN0Qiw0Q0FBNEM7RUFDNUMscUJBQXFCO0FBQ3ZCOztBQUVBO0VBQ0UsZ0JBQWdCO0VBQ2hCLGNBQWM7RUFDZCxnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSxrQkFBa0I7RUFDbEIsV0FBVztBQUNiOztBQUVBO0VBQ0UsZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0UsZ0JBQWdCO0VBQ2hCLGdCQUFnQjtFQUNoQixjQUFjO0FBQ2hCOztBQUVBO0VBQ0UsdUJBQXVCO0VBQ3ZCLGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFO0lBQ0UsaUJBQWlCO0VBQ25CO0FBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyIuZGFzaGJvYXJkLXRpdGxlIHtcbiAgY29sb3I6ICMyYzNlNTA7XG4gIG1hcmdpbi1ib3R0b206IDEuNXJlbTtcbiAgZm9udC13ZWlnaHQ6IDcwMDtcbiAgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkICMzNDk4ZGI7XG4gIHBhZGRpbmctYm90dG9tOiAwLjVyZW07XG59XG5cbi5zdGF0LWNhcmQge1xuICBib3JkZXI6IG5vbmU7XG4gIGJveC1zaGFkb3c6IDAgNHB4IDEwcHggcmdiYSgwLCAwLCAwLCAwLjEpO1xuICB0cmFuc2l0aW9uOiBhbGwgMC4zcyBlYXNlO1xufVxuXG4uc3RhdC1jYXJkOmhvdmVyIHtcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01cHgpO1xuICBib3gtc2hhZG93OiAwIDhweCAxNXB4IHJnYmEoMCwgMCwgMCwgMC4yKTtcbn1cblxuLnN0YXQtY2FyZCAuY2FyZC1ib2R5IHtcbiAgcGFkZGluZzogMS4yNXJlbTtcbn1cblxuLnN0YXQtY2FyZCBoMyB7XG4gIGZvbnQtc2l6ZTogMnJlbTtcbiAgZm9udC13ZWlnaHQ6IDcwMDtcbiAgbWFyZ2luLWJvdHRvbTogMDtcbn1cblxuLnN0YXQtY2FyZCAuY2FyZC1mb290ZXIge1xuICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIDAuMSk7XG4gIGJvcmRlci10b3A6IG5vbmU7XG4gIHBhZGRpbmc6IDAuNzVyZW0gMS4yNXJlbTtcbn1cblxuLnN0YXQtY2FyZCAuY2FyZC1mb290ZXIgYSB7XG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbiAgZm9udC13ZWlnaHQ6IDUwMDtcbn1cblxuLmNoYXJ0LWNhcmQge1xuICBib3gtc2hhZG93OiAwIDRweCAxMHB4IHJnYmEoMCwgMCwgMCwgMC4wNSk7XG4gIGJvcmRlcjogbm9uZTtcbiAgYm9yZGVyLXJhZGl1czogMTBweDtcbn1cblxuLmNoYXJ0LWNhcmQgLmNhcmQtaGVhZGVyIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHJnYmEoMCwgMCwgMCwgMC4wNSk7XG4gIHBhZGRpbmc6IDFyZW0gMS4yNXJlbTtcbn1cblxuLmNoYXJ0LWNhcmQgLmNhcmQtdGl0bGUge1xuICBtYXJnaW4tYm90dG9tOiAwO1xuICBjb2xvcjogIzJjM2U1MDtcbiAgZm9udC13ZWlnaHQ6IDYwMDtcbn1cblxuLmNoYXJ0LWNvbnRhaW5lciB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgd2lkdGg6IDEwMCU7XG59XG5cbi50YWJsZSB7XG4gIG1hcmdpbi1ib3R0b206IDA7XG59XG5cbi50YWJsZSB0aCB7XG4gIGJvcmRlci10b3A6IG5vbmU7XG4gIGZvbnQtd2VpZ2h0OiA2MDA7XG4gIGNvbG9yOiAjMmMzZTUwO1xufVxuXG4uYnRuLXNtIHtcbiAgcGFkZGluZzogMC4yNXJlbSAwLjVyZW07XG4gIGZvbnQtc2l6ZTogMC43NXJlbTtcbn1cblxuQG1lZGlhIChtYXgtd2lkdGg6IDc2OHB4KSB7XG4gIC5zdGF0LWNhcmQgaDMge1xuICAgIGZvbnQtc2l6ZTogMS41cmVtO1xuICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n    });\n  }\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate1","ctx_r1","error","ɵɵelement","ɵɵtextInterpolate","ctx_r2","totalEvents","ɵɵproperty","ɵɵpureFunction0","_c0","totalTickets","ɵɵpipeBind4","totalSales","ɵɵtextInterpolate2","totalActiveTickets","totalCancelledTickets","ctx_r5","eventChartData","chartOptions","ctx_r7","salesChartData","ɵɵtemplate","DashboardComponent_div_9_canvas_9_Template","DashboardComponent_div_9_div_10_Template","DashboardComponent_div_9_canvas_19_Template","DashboardComponent_div_9_div_20_Template","ctx_r3","ctx_r9","ticketChartData","event_r13","title","ɵɵpipeBind2","date","availableTickets","ɵɵpureFunction1","_c1","_id","_c2","DashboardComponent_div_10_canvas_9_Template","DashboardComponent_div_10_div_10_Template","DashboardComponent_div_10_tr_31_Template","DashboardComponent_div_10_tr_32_Template","ctx_r4","events","slice","length","DashboardComponent","constructor","eventService","ticketService","authService","router","tickets","loading","eventsByMonth","ticketsByCategory","responsive","maintainAspectRatio","ngOnInit","isAdmin","navigate","loadDashboardData","getEvents","subscribe","next","generateEventChartData","loadTicketData","err","console","getAllTickets","filter","t","status","reduce","sum","ticket","price","generateTicketChartData","generateSalesChartData","monthlyData","Array","fill","forEach","event","month","Date","getMonth","months","labels","datasets","label","data","backgroundColor","borderColor","borderWidth","categoryMap","Map","category","currentCount","get","set","categories","from","keys","categoryCounts","values","monthlySales","purchaseDate","ɵɵdirectiveInject","i1","EventService","i2","TicketService","i3","AuthService","i4","Router","selectors","decls","vars","consts","template","DashboardComponent_Template","rf","ctx","DashboardComponent_div_6_Template","DashboardComponent_div_7_Template","DashboardComponent_div_8_Template","DashboardComponent_div_9_Template","DashboardComponent_div_10_Template"],"sources":["D:\\SZTE_PROGINFO\\programrendszerek_fejlesztese\\TicketPortal\\frontend\\src\\app\\components\\admin\\dashboard\\dashboard.component.ts","D:\\SZTE_PROGINFO\\programrendszerek_fejlesztese\\TicketPortal\\frontend\\src\\app\\components\\admin\\dashboard\\dashboard.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { EventService } from '../../../services/event.service';\nimport { TicketService } from '../../../services/ticket.service';\nimport { AuthService } from '../../../services/auth.service';\nimport { Router } from '@angular/router';\nimport { Event } from '../../../models/event.model';\nimport { Ticket } from '../../../models/ticket.model';\n\n@Component({\n  selector: 'app-dashboard',\n  templateUrl: './dashboard.component.html',\n  styleUrls: ['./dashboard.component.css']\n})\nexport class DashboardComponent implements OnInit {\n  events: Event[] = [];\n  tickets: Ticket[] = [];\n  loading = true;\n  error: string | null = null;\n  \n  // Statisztikai adatok\n  totalEvents = 0;\n  totalTickets = 0;\n  totalSales = 0;\n  totalActiveTickets = 0;\n  totalCancelledTickets = 0;\n  eventsByMonth: any[] = [];\n  ticketsByCategory: any[] = [];\n  \n  // Chart beállítások\n  salesChartData: any;\n  eventChartData: any;\n  ticketChartData: any;\n  chartOptions = {\n    responsive: true,\n    maintainAspectRatio: false\n  };\n  \n  constructor(\n    private eventService: EventService,\n    private ticketService: TicketService,\n    private authService: AuthService,\n    private router: Router\n  ) {}\n\n  ngOnInit(): void {\n    if (!this.authService.isAdmin()) {\n      this.router.navigate(['/events']);\n      return;\n    }\n    \n    this.loadDashboardData();\n  }\n  \n  loadDashboardData(): void {\n    this.loading = true;\n    \n    // Események betöltése\n    this.eventService.getEvents().subscribe({\n      next: (events) => {\n        this.events = events;\n        this.totalEvents = events.length;\n        this.generateEventChartData();\n        \n        // Jegyek betöltése események után\n        this.loadTicketData();\n      },\n      error: (err) => {\n        this.error = 'Hiba történt az események betöltése közben.';\n        this.loading = false;\n        console.error('Error loading events:', err);\n      }\n    });\n  }\n  \n  loadTicketData(): void {\n    this.ticketService.getAllTickets().subscribe({\n      next: (tickets: Ticket[]) => {\n        this.tickets = tickets;\n        this.totalTickets = tickets.length;\n        this.totalActiveTickets = tickets.filter((t: Ticket) => t.status === 'confirmed').length;\n        this.totalCancelledTickets = tickets.filter((t: Ticket) => t.status === 'cancelled').length;\n        \n        // Számítsuk ki az összbevételt\n        this.totalSales = tickets\n          .filter((t: Ticket) => t.status !== 'cancelled')\n          .reduce((sum: number, ticket: Ticket) => sum + (ticket.price || 0), 0);\n        \n        this.generateTicketChartData();\n        this.generateSalesChartData();\n        \n        this.loading = false;\n      },\n      error: (err: any) => {\n        this.error = 'Hiba történt a jegyek betöltése közben.';\n        this.loading = false;\n        console.error('Error loading tickets:', err);\n      }\n    });\n  }\n  \n  generateEventChartData(): void {\n    // Események havi eloszlása\n    const monthlyData = Array(12).fill(0);\n    \n    this.events.forEach(event => {\n      if (event.date) {\n        const month = new Date(event.date).getMonth();\n        monthlyData[month]++;\n      }\n    });\n    \n    const months = ['Január', 'Február', 'Március', 'Április', 'Május', 'Június', \n                   'Július', 'Augusztus', 'Szeptember', 'Október', 'November', 'December'];\n    \n    this.eventChartData = {\n      labels: months,\n      datasets: [{\n        label: 'Események havi eloszlása',\n        data: monthlyData,\n        backgroundColor: 'rgba(54, 162, 235, 0.5)',\n        borderColor: 'rgb(54, 162, 235)',\n        borderWidth: 1\n      }]\n    };\n  }\n  \n  generateTicketChartData(): void {\n    // Jegyek kategóriánként\n    const categoryMap = new Map<string, number>();\n    \n    this.tickets.forEach(ticket => {\n      if (ticket.category && ticket.status !== 'cancelled') {\n        const currentCount = categoryMap.get(ticket.category) || 0;\n        categoryMap.set(ticket.category, currentCount + 1);\n      }\n    });\n    \n    const categories = Array.from(categoryMap.keys());\n    const categoryCounts = Array.from(categoryMap.values());\n    \n    this.ticketChartData = {\n      labels: categories,\n      datasets: [{\n        label: 'Jegyek kategóriánként',\n        data: categoryCounts,\n        backgroundColor: [\n          'rgba(255, 99, 132, 0.5)',\n          'rgba(54, 162, 235, 0.5)',\n          'rgba(255, 206, 86, 0.5)',\n          'rgba(75, 192, 192, 0.5)',\n          'rgba(153, 102, 255, 0.5)',\n          'rgba(255, 159, 64, 0.5)'\n        ],\n        borderColor: [\n          'rgba(255, 99, 132, 1)',\n          'rgba(54, 162, 235, 1)',\n          'rgba(255, 206, 86, 1)',\n          'rgba(75, 192, 192, 1)',\n          'rgba(153, 102, 255, 1)',\n          'rgba(255, 159, 64, 1)'\n        ],\n        borderWidth: 1\n      }]\n    };\n  }\n  \n  generateSalesChartData(): void {\n    // Havi bevételek\n    const monthlySales = Array(12).fill(0);\n    \n    this.tickets.forEach(ticket => {\n      if (ticket.purchaseDate && ticket.status !== 'cancelled' && ticket.price) {\n        const month = new Date(ticket.purchaseDate).getMonth();\n        monthlySales[month] += ticket.price;\n      }\n    });\n    \n    const months = ['Január', 'Február', 'Március', 'Április', 'Május', 'Június', \n                   'Július', 'Augusztus', 'Szeptember', 'Október', 'November', 'December'];\n    \n    this.salesChartData = {\n      labels: months,\n      datasets: [{\n        label: 'Havi bevételek (Ft)',\n        data: monthlySales,\n        backgroundColor: 'rgba(75, 192, 192, 0.5)',\n        borderColor: 'rgb(75, 192, 192)',\n        borderWidth: 1\n      }]\n    };\n  }\n}\n","<div class=\"container-fluid mt-4\">\n  <div class=\"row\">\n    <div class=\"col-12\">\n      <h2 class=\"dashboard-title\">\n        <i class=\"fas fa-chart-line me-2\"></i>Admin Vezérlőpult\n      </h2>\n      \n      <!-- Töltési állapot -->\n      <div *ngIf=\"loading\" class=\"text-center p-5\">\n        <div class=\"spinner-border text-primary\" role=\"status\">\n          <span class=\"visually-hidden\">Loading...</span>\n        </div>\n        <p class=\"mt-3\">Adatok betöltése...</p>\n      </div>\n      \n      <!-- Hiba üzenet -->\n      <div *ngIf=\"error\" class=\"alert alert-danger\">\n        {{ error }}\n      </div>\n    </div>\n  </div>\n  \n  <!-- Statisztikai kártyák -->\n  <div *ngIf=\"!loading\" class=\"row mt-4\">\n    <div class=\"col-xl-3 col-md-6 mb-4\">\n      <div class=\"card stat-card bg-primary text-white h-100\">\n        <div class=\"card-body\">\n          <div class=\"row align-items-center\">\n            <div class=\"col-3\">\n              <i class=\"fas fa-calendar fa-3x\"></i>\n            </div>\n            <div class=\"col-9 text-end\">\n              <h3>{{ totalEvents }}</h3>\n              <div>Esemény</div>\n            </div>\n          </div>\n        </div>\n        <div class=\"card-footer d-flex align-items-center justify-content-between\">\n          <a [routerLink]=\"['/events']\" class=\"text-white\">Részletek megtekintése</a>\n          <i class=\"fas fa-angle-right\"></i>\n        </div>\n      </div>\n    </div>\n    \n    <div class=\"col-xl-3 col-md-6 mb-4\">\n      <div class=\"card stat-card bg-success text-white h-100\">\n        <div class=\"card-body\">\n          <div class=\"row align-items-center\">\n            <div class=\"col-3\">\n              <i class=\"fas fa-ticket-alt fa-3x\"></i>\n            </div>\n            <div class=\"col-9 text-end\">\n              <h3>{{ totalTickets }}</h3>\n              <div>Összes jegy</div>\n            </div>\n          </div>\n        </div>\n        <div class=\"card-footer d-flex align-items-center justify-content-between\">\n          <a class=\"text-white\">Részletes adatok</a>\n          <i class=\"fas fa-angle-right\"></i>\n        </div>\n      </div>\n    </div>\n    \n    <div class=\"col-xl-3 col-md-6 mb-4\">\n      <div class=\"card stat-card bg-info text-white h-100\">\n        <div class=\"card-body\">\n          <div class=\"row align-items-center\">\n            <div class=\"col-3\">\n              <i class=\"fas fa-money-bill-wave fa-3x\"></i>\n            </div>\n            <div class=\"col-9 text-end\">\n              <h3>{{ totalSales | currency:'HUF':'symbol':'1.0-0' }}</h3>\n              <div>Összes bevétel</div>\n            </div>\n          </div>\n        </div>\n        <div class=\"card-footer d-flex align-items-center justify-content-between\">\n          <a class=\"text-white\">Pénzügyi jelentés</a>\n          <i class=\"fas fa-angle-right\"></i>\n        </div>\n      </div>\n    </div>\n    \n    <div class=\"col-xl-3 col-md-6 mb-4\">\n      <div class=\"card stat-card bg-warning text-white h-100\">\n        <div class=\"card-body\">\n          <div class=\"row align-items-center\">\n            <div class=\"col-3\">\n              <i class=\"fas fa-exchange-alt fa-3x\"></i>\n            </div>\n            <div class=\"col-9 text-end\">\n              <h3>{{ totalActiveTickets }} / {{ totalCancelledTickets }}</h3>\n              <div>Aktív / Lemondott jegyek</div>\n            </div>\n          </div>\n        </div>\n        <div class=\"card-footer d-flex align-items-center justify-content-between\">\n          <a class=\"text-white\">Jegy státuszok</a>\n          <i class=\"fas fa-angle-right\"></i>\n        </div>\n      </div>\n    </div>\n  </div>\n  \n  <!-- Diagramok sor -->\n  <div *ngIf=\"!loading\" class=\"row mt-4\">\n    <div class=\"col-xl-6 mb-4\">\n      <div class=\"card chart-card h-100\">\n        <div class=\"card-header\">\n          <h5 class=\"card-title\">\n            <i class=\"fas fa-chart-bar me-2\"></i>Események havi eloszlása\n          </h5>\n        </div>\n        <div class=\"card-body\">\n          <div class=\"chart-container\" style=\"height: 300px;\">\n            <canvas *ngIf=\"eventChartData\" baseChart \n                  [data]=\"eventChartData\"\n                  [options]=\"chartOptions\"\n                  [type]=\"'bar'\">\n            </canvas>\n            <div *ngIf=\"!eventChartData\" class=\"text-center py-5\">\n              <p>Nincs megjeleníthető adat</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    \n    <div class=\"col-xl-6 mb-4\">\n      <div class=\"card chart-card h-100\">\n        <div class=\"card-header\">\n          <h5 class=\"card-title\">\n            <i class=\"fas fa-chart-line me-2\"></i>Havi bevételek\n          </h5>\n        </div>\n        <div class=\"card-body\">\n          <div class=\"chart-container\" style=\"height: 300px;\">\n            <canvas *ngIf=\"salesChartData\" baseChart \n                  [data]=\"salesChartData\"\n                  [options]=\"chartOptions\"\n                  [type]=\"'line'\">\n            </canvas>\n            <div *ngIf=\"!salesChartData\" class=\"text-center py-5\">\n              <p>Nincs megjeleníthető adat</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  \n  <!-- Jegy kategóriák és esemény táblázat -->\n  <div *ngIf=\"!loading\" class=\"row mt-4\">\n    <div class=\"col-xl-6 mb-4\">\n      <div class=\"card chart-card h-100\">\n        <div class=\"card-header\">\n          <h5 class=\"card-title\">\n            <i class=\"fas fa-chart-pie me-2\"></i>Jegyek kategóriánként\n          </h5>\n        </div>\n        <div class=\"card-body\">\n          <div class=\"chart-container\" style=\"height: 300px;\">\n            <canvas *ngIf=\"ticketChartData\" baseChart \n                  [data]=\"ticketChartData\"\n                  [options]=\"chartOptions\"\n                  [type]=\"'doughnut'\">\n            </canvas>\n            <div *ngIf=\"!ticketChartData\" class=\"text-center py-5\">\n              <p>Nincs megjeleníthető adat</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    \n    <div class=\"col-xl-6 mb-4\">\n      <div class=\"card h-100\">\n        <div class=\"card-header\">\n          <h5 class=\"card-title\">\n            <i class=\"fas fa-list me-2\"></i>Legközelebbi események\n          </h5>\n        </div>\n        <div class=\"card-body\">\n          <div class=\"table-responsive\">\n            <table class=\"table table-hover\">\n              <thead>\n                <tr>\n                  <th>Esemény</th>\n                  <th>Dátum</th>\n                  <th>Elérhető jegyek</th>\n                  <th>Műveletek</th>\n                </tr>\n              </thead>\n              <tbody>\n                <tr *ngFor=\"let event of events.slice(0, 5)\">\n                  <td>{{ event.title }}</td>\n                  <td>{{ event.date | date:'yyyy.MM.dd HH:mm' }}</td>\n                  <td>{{ event.availableTickets || 0 }}</td>\n                  <td>\n                    <a [routerLink]=\"['/events', event._id, 'edit']\" class=\"btn btn-sm btn-warning me-1\">\n                      <i class=\"fas fa-edit\"></i>\n                    </a>\n                    <a [routerLink]=\"['/events', event._id]\" class=\"btn btn-sm btn-info\">\n                      <i class=\"fas fa-eye\"></i>\n                    </a>\n                  </td>\n                </tr>\n                <tr *ngIf=\"events.length === 0\">\n                  <td colspan=\"4\" class=\"text-center\">Nincs megjeleníthető esemény</td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n        </div>\n        <div class=\"card-footer d-flex justify-content-end\">\n          <a [routerLink]=\"['/events']\" class=\"btn btn-primary\">Összes esemény</a>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}